(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(3854)}])},3854:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(5893),a=n(1046),s=n(8186),i=n(3636),o=n(2761),c=n(92),l=n(8491),d=n(5621),u=n(1559),m=n(2060),f=n(7294),h=n(6455),g=n.n(h),p=()=>{let[e,t]=(0,f.useState)([]);return(0,f.useEffect)(()=>{t([{_id:"6737ee2be20af947d4cc0c2f",loginUsername:"6733cfea28786b3bd04f6eac",hostname:"23.227.196.47",port:6579,vpsUsername:"root",lastSeenTime:"2024-11-17T13:38:18.691Z",status:"completed",appStatus:"online",scriptStatusFile:"/tmp/evgapi_status_6733cfea28786b3bd04f6eac.txt"},{_id:"6737ee2be20af947d4cc0c2f",loginUsername:"6733cfea28786b3bd04f6eac",hostname:"67.109.44.21",port:22,vpsUsername:"root",lastSeenTime:"2024-11-17T13:38:18.691Z",status:"in-progress",scriptStatusFile:"/tmp/evgapi_status_6733cfea28786b3bd04f6eac.txt"}])},[]),{vpsList:e,linkDomain:e=>{g().fire({icon:"info",text:"Domain link widget will show here for ".concat(e)})}}},x=n(7655),w=n(2258),S=n(5544),j=n(4926);let[_,b]=(0,n(3456).eC)("Card");var y=n(9381),C=n(8207),v=n(7430);let T=(0,y.G)(function(e,t){let{className:n,children:a,direction:s="column",justify:i,align:o,...c}=(0,S.L)(e),l=(0,C.j)("Card",e);return(0,r.jsx)(v.m.div,{ref:t,className:(0,j.cx)("chakra-card",n),__css:{display:"flex",flexDirection:s,justifyContent:i,alignItems:o,position:"relative",minWidth:0,wordWrap:"break-word",...l.container},...c,children:(0,r.jsx)(_,{value:l,children:a})})}),k=(0,y.G)(function(e,t){let{className:n,...a}=e,s=b();return(0,r.jsx)(v.m.div,{ref:t,className:(0,j.cx)("chakra-card__body",n),__css:s.body,...a})});var I=e=>{let{children:t,...n}=e;return(0,r.jsx)(T,{w:"100%",maxW:"500px",minH:"300px",children:(0,r.jsx)(k,{as:s.g,w:"100%",justifyContent:"flex-start",alignItems:"center",...n,children:t})})},E=n(1451);function P(){let e=(0,a.ff)(x._X,x._G),{isRTL:t,lang:n,langs:h,translate:S,translating:j,getTranslationFutureText:_}=(0,u.Z)([]),{vpsList:b,linkDomain:y}=p(),[C,v]=(0,f.useState)(),[T,k]=(0,f.useState)(),[P,Z]=(0,f.useState)(),[N,U]=(0,f.useState)(),[L,z]=(0,f.useState)(),[O,D]=(0,f.useState)(),G=async()=>{var e=!1;if(Z(""),z(""),(0,E.N4)(T)&&(e=!0,Z("Please enter your username")),(0,E.N4)(N)&&(e=!0,z("Please enter your password")),!e)try{let e=await fetch("".concat(x.CT,"/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:T,password:N}),credentials:"include"}),t=await e.json();e.ok?(O&&T?localStorage.setItem("rememberedUserId",T):localStorage.removeItem("rememberedUserId"),localStorage.setItem("authToken",t.token),"admin"===t.role?window.location.href="./admin/dashboard.html":window.location.href="./dashboard.html"):g().fire({icon:"error",title:"Sign In",text:t.error||"Login failed. Please try again."})}catch(e){console.error("Login request failed:",e),g().fire({icon:"error",title:"Sign In",text:"An error occurred while logging in. Please try again later."})}};return(0,r.jsx)(d.Z,{isRTL:t,lang:n,langs:h,translating:j,onLocaleSelected:S,showThemeSwitch:!0,noSideMenu:!0,children:(0,r.jsx)(m.Z,{children:(0,r.jsxs)(s.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",mt:"2rem",children:[(0,r.jsxs)(i.U,{w:"100%",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(o.E,{src:e,height:"50px"}),(0,r.jsx)(c.x,{as:"div",fontSize:"1.5rem",children:x.iC})]}),(0,r.jsxs)(I,{children:[(0,r.jsx)(c.x,{as:"div",fontSize:"1.2rem",children:"Sign In"}),(0,r.jsx)(w.Z,{w:"100%",type:w.Z.TYPES.text,title:"Username",placeholder:"Enter username",mb:4,onChange:k,errorMessage:P},"username"),(0,r.jsx)(w.Z,{w:"100%",type:w.Z.TYPES.password,title:"Password",placeholder:"Enter password",mb:4,onChange:U,errorMessage:L},"password"),(0,r.jsxs)(i.U,{w:"100%",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(w.Z,{w:"100%",type:w.Z.TYPES.checkbox,title:"Remember me"},"rem"),(0,r.jsx)(l.z,{size:"lg",colorScheme:"orange",opacity:C?"0.4":"1",cursor:C?"not-allowed":"pointer",onClick:()=>{C||G()},children:C?"Please wait...":"Sign In"})]})]})]})})})}}},function(e){e.O(0,[365,571,114,166,458,325,888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);